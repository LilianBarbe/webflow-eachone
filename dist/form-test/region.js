"use strict";(()=>{var r=async d=>{try{let n=document.getElementById("ville"),p=document.getElementById("codepostal"),i=document.getElementById("numberStreet"),s=document.querySelector(".address_item"),o=s.parentNode;for(;o.children.length>1;)o.removeChild(o.lastChild);let l=(await(await fetch(`https://api-adresse.data.gouv.fr/search/?q=${d}`)).json()).features.map(e=>({label:e.properties.label,city:e.properties.city,postcode:e.properties.postcode,context:e.properties.context,numero:e.properties.housenumber,nom:e.properties.name}));return l.forEach(e=>{let t=s.cloneNode(!0),u=t.querySelector("[adress-label]"),m=t.querySelector("[adress-postal]");u.textContent=e.label,m.textContent=e.context,t.style.display="",t.addEventListener("click",()=>{n.value=e.city,p.value=e.postcode,i.value=e.nom,document.getElementById("autoComplete").value=e.label,document.querySelector(".adress_list").style.display="none"}),o.appendChild(t)}),s.style.display="none",l}catch(n){console.error("Error fetching or processing data:",n)}};var c=document.getElementById("autoComplete"),a;document.querySelector(".adress_list").style.display="none";c.addEventListener("input",function(){a=c.value,r(a),document.querySelector(".adress_list").style.display="flex"});})();
